webpackJsonp([4],{"5zde":function(t,e,r){r("zQR9"),r("qyJz"),t.exports=r("FeBl").Array.from},"8qCw":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Gu7T"),s=r.n(a),o=r("XLwt"),i={name:"PerformanceReport",data:function(){return{filterForm:{dateRange:[],testType:"",scoreRange:""},reports:[],filteredReports:[],pagination:{currentPage:1,pageSize:10,total:0},reportDialogVisible:!1,compareDialogVisible:!1,selectedReport:null,compareReports:[],trendChart:null,compareChart:null}},mounted:function(){this.loadReports()},methods:{loadReports:function(){this.reports=[{id:1,name:"Web服务器性能监控_20250720",type:"monitor",score:85,duration:300,createTime:new Date("2025-07-20 14:08:12"),status:"completed",metrics:{avgCpu:25.3,avgMemory:45.2,maxLoad:1.23,bottlenecks:2},bottlenecks:[{severity:"medium",description:"CPU使用率偶尔超过80%",impact:"可能影响响应时间"}],recommendations:["优化CPU密集型任务","考虑负载均衡"]},{id:2,name:"API接口压力测试_20250719",type:"http",score:72,duration:600,createTime:new Date("2025-07-19 16:30:00"),status:"completed",metrics:{avgCpu:65.8,avgMemory:78.5,maxLoad:2.45,bottlenecks:3},bottlenecks:[{severity:"high",description:"内存使用率持续过高",impact:"系统性能显著下降"}],recommendations:["增加物理内存","优化内存使用"]}],this.filteredReports=[].concat(s()(this.reports)),this.pagination.total=this.reports.length},filterReports:function(){var t=this,e=[].concat(s()(this.reports));if(this.filterForm.dateRange&&2===this.filterForm.dateRange.length){var r=new Date(this.filterForm.dateRange[0]),a=new Date(this.filterForm.dateRange[1]);a.setHours(23,59,59,999),e=e.filter(function(t){var e=new Date(t.createTime);return e>=r&&e<=a})}this.filterForm.testType&&(e=e.filter(function(e){return e.type===t.filterForm.testType})),this.filterForm.scoreRange&&(e=e.filter(function(e){switch(t.filterForm.scoreRange){case"excellent":return e.score>=85;case"good":return e.score>=70&&e.score<85;case"poor":return e.score<70;default:return!0}})),this.filteredReports=e,this.pagination.total=e.length,this.pagination.currentPage=1},resetFilter:function(){this.filterForm={dateRange:[],testType:"",scoreRange:""},this.filteredReports=[].concat(s()(this.reports)),this.pagination.total=this.reports.length,this.pagination.currentPage=1},refreshReports:function(){this.loadReports(),this.$message.success("报告列表已刷新")},exportReports:function(){this.$message.success("报告导出功能开发中...")},viewReport:function(t){var e=this;this.selectedReport=t,this.reportDialogVisible=!0,this.$nextTick(function(){e.initTrendChart()})},compareReport:function(t){this.compareReports=[t.id],this.compareDialogVisible=!0},deleteReport:function(t){var e=this;this.$confirm("确定要删除这个报告吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var r=e.reports.findIndex(function(e){return e.id===t.id});r>-1&&(e.reports.splice(r,1),e.filterReports(),e.$message.success("报告已删除"))})},closeReportDialog:function(){this.reportDialogVisible=!1,this.trendChart&&(this.trendChart.dispose(),this.trendChart=null)},downloadReport:function(){this.$message.success("报告下载功能开发中...")},handleSizeChange:function(t){this.pagination.pageSize=t},handleCurrentChange:function(t){this.pagination.currentPage=t},initTrendChart:function(){if(this.$refs.trendChart){this.trendChart=o.a(this.$refs.trendChart);for(var t=[],e=[],r=[],a=0;a<50;a++)t.push(6*a+"s"),e.push(Math.floor(100*Math.random())),r.push(Math.floor(100*Math.random()));var s={tooltip:{trigger:"axis"},legend:{data:["CPU使用率","内存使用率"]},xAxis:{type:"category",data:t},yAxis:{type:"value",min:0,max:100,axisLabel:{formatter:"{value}%"}},series:[{name:"CPU使用率",type:"line",data:e,smooth:!0,itemStyle:{color:"#409EFF"}},{name:"内存使用率",type:"line",data:r,smooth:!0,itemStyle:{color:"#67C23A"}}]};this.trendChart.setOption(s)}},getReportIcon:function(t){return{monitor:"el-icon-monitor",http:"el-icon-connection",cpu:"el-icon-cpu",memory:"el-icon-memory-card",disk:"el-icon-folder"}[t]||"el-icon-document"},getTypeName:function(t){return{monitor:"监控分析",http:"HTTP测试",cpu:"CPU测试",memory:"内存测试",disk:"磁盘测试"}[t]||t},getTypeTagType:function(t){return{monitor:"primary",http:"success",cpu:"warning",memory:"info",disk:"danger"}[t]||"info"},getScoreClass:function(t){return t>=85?"score-excellent":t>=70?"score-good":"score-poor"},getStatusTagType:function(t){return{completed:"success",running:"warning",failed:"danger",pending:"info"}[t]||"info"},getStatusText:function(t){return{completed:"已完成",running:"运行中",failed:"失败",pending:"待处理"}[t]||t},getBottleneckIcon:function(t){return{critical:"🔴",high:"🟠",medium:"🟡",low:"🔵"}[t]||"🔵"},getTagType:function(t){return{critical:"danger",high:"warning",medium:"info",low:"success"}[t]||"info"},getSeverityText:function(t){return{critical:"严重",high:"高",medium:"中",low:"低"}[t]||"未知"},formatTime:function(t){return new Date(t).toLocaleString()}},beforeDestroy:function(){this.trendChart&&this.trendChart.dispose(),this.compareChart&&this.compareChart.dispose()}},n={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"performance-report"},[t._m(0),t._v(" "),r("el-card",{staticClass:"filter-card"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[t._v("🔍 报告筛选")])]),t._v(" "),r("el-form",{attrs:{model:t.filterForm,inline:""}},[r("el-form-item",{attrs:{label:"时间范围"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.filterForm.dateRange,callback:function(e){t.$set(t.filterForm,"dateRange",e)},expression:"filterForm.dateRange"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"测试类型"}},[r("el-select",{attrs:{placeholder:"全部类型",clearable:""},model:{value:t.filterForm.testType,callback:function(e){t.$set(t.filterForm,"testType",e)},expression:"filterForm.testType"}},[r("el-option",{attrs:{label:"监控数据分析",value:"monitor"}}),t._v(" "),r("el-option",{attrs:{label:"HTTP压力测试",value:"http"}}),t._v(" "),r("el-option",{attrs:{label:"CPU压力测试",value:"cpu"}}),t._v(" "),r("el-option",{attrs:{label:"内存压力测试",value:"memory"}}),t._v(" "),r("el-option",{attrs:{label:"磁盘I/O测试",value:"disk"}})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"性能评分"}},[r("el-select",{attrs:{placeholder:"全部评分",clearable:""},model:{value:t.filterForm.scoreRange,callback:function(e){t.$set(t.filterForm,"scoreRange",e)},expression:"filterForm.scoreRange"}},[r("el-option",{attrs:{label:"优秀 (85-100)",value:"excellent"}}),t._v(" "),r("el-option",{attrs:{label:"良好 (70-84)",value:"good"}}),t._v(" "),r("el-option",{attrs:{label:"需要优化 (0-69)",value:"poor"}})],1)],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.filterReports}},[t._v("筛选")]),t._v(" "),r("el-button",{on:{click:t.resetFilter}},[t._v("重置")]),t._v(" "),r("el-button",{attrs:{type:"success"},on:{click:t.exportReports}},[t._v("导出报告")])],1)],1)],1),t._v(" "),r("el-card",{staticClass:"reports-card"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[t._v("📋 报告列表")]),t._v(" "),r("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.refreshReports}},[t._v("\n        刷新\n      ")])],1),t._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.filteredReports,"row-class-name":"report-row"},on:{"row-click":t.viewReport}},[r("el-table-column",{attrs:{prop:"name",label:"报告名称",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"report-name"},[r("i",{class:t.getReportIcon(e.row.type)}),t._v("\n            "+t._s(e.row.name)+"\n          ")])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"type",label:"测试类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tag",{attrs:{type:t.getTypeTagType(e.row.type),size:"small"}},[t._v("\n            "+t._s(t.getTypeName(e.row.type))+"\n          ")])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"score",label:"性能评分",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"score-display",class:t.getScoreClass(e.row.score)},[t._v("\n            "+t._s(e.row.score)+"\n          ")])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"duration",label:"测试时长",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.duration)+"秒\n        ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatTime(e.row.createTime))+"\n        ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tag",{attrs:{type:t.getStatusTagType(e.row.status),size:"small"}},[t._v("\n            "+t._s(t.getStatusText(e.row.status))+"\n          ")])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return r.stopPropagation(),t.viewReport(e.row)}}},[t._v("查看")]),t._v(" "),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(r){return r.stopPropagation(),t.compareReport(e.row)}}},[t._v("对比")]),t._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return r.stopPropagation(),t.deleteReport(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),r("div",{staticClass:"pagination-wrapper"},[r("el-pagination",{attrs:{"current-page":t.pagination.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"报告详情",visible:t.reportDialogVisible,width:"80%","before-close":t.closeReportDialog},on:{"update:visible":function(e){t.reportDialogVisible=e}}},[t.selectedReport?r("div",{staticClass:"report-detail"},[r("div",{staticClass:"report-info"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("label",[t._v("报告名称:")]),t._v(" "),r("span",[t._v(t._s(t.selectedReport.name))])])]),t._v(" "),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("label",[t._v("测试类型:")]),t._v(" "),r("span",[t._v(t._s(t.getTypeName(t.selectedReport.type)))])])]),t._v(" "),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("label",[t._v("性能评分:")]),t._v(" "),r("span",{staticClass:"score",class:t.getScoreClass(t.selectedReport.score)},[t._v("\n                "+t._s(t.selectedReport.score)+"\n              ")])])]),t._v(" "),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("label",[t._v("创建时间:")]),t._v(" "),r("span",[t._v(t._s(t.formatTime(t.selectedReport.createTime)))])])])],1)],1),t._v(" "),r("div",{staticClass:"metrics-summary"},[r("h3",[t._v("📊 性能指标摘要")]),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("div",{staticClass:"metric-card"},[r("div",{staticClass:"metric-value"},[t._v(t._s(t.selectedReport.metrics.avgCpu)+"%")]),t._v(" "),r("div",{staticClass:"metric-label"},[t._v("平均CPU使用率")])])]),t._v(" "),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"metric-card"},[r("div",{staticClass:"metric-value"},[t._v(t._s(t.selectedReport.metrics.avgMemory)+"%")]),t._v(" "),r("div",{staticClass:"metric-label"},[t._v("平均内存使用率")])])]),t._v(" "),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"metric-card"},[r("div",{staticClass:"metric-value"},[t._v(t._s(t.selectedReport.metrics.maxLoad))]),t._v(" "),r("div",{staticClass:"metric-label"},[t._v("最大系统负载")])])]),t._v(" "),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"metric-card"},[r("div",{staticClass:"metric-value"},[t._v(t._s(t.selectedReport.metrics.bottlenecks))]),t._v(" "),r("div",{staticClass:"metric-label"},[t._v("发现瓶颈数")])])])],1)],1),t._v(" "),r("div",{staticClass:"trend-charts"},[r("h3",[t._v("📈 性能趋势")]),t._v(" "),r("div",{ref:"trendChart",staticClass:"trend-chart"})]),t._v(" "),t.selectedReport.bottlenecks&&t.selectedReport.bottlenecks.length>0?r("div",{staticClass:"bottlenecks-analysis"},[r("h3",[t._v("⚠️ 瓶颈分析")]),t._v(" "),r("div",{staticClass:"bottlenecks-list"},t._l(t.selectedReport.bottlenecks,function(e,a){return r("div",{key:a,staticClass:"bottleneck-item",class:"bottleneck-"+e.severity},[r("div",{staticClass:"bottleneck-header"},[r("span",{staticClass:"bottleneck-icon"},[t._v(t._s(t.getBottleneckIcon(e.severity)))]),t._v(" "),r("span",{staticClass:"bottleneck-title"},[t._v(t._s(e.description))]),t._v(" "),r("el-tag",{attrs:{type:t.getTagType(e.severity),size:"small"}},[t._v("\n                "+t._s(t.getSeverityText(e.severity))+"\n              ")])],1),t._v(" "),r("div",{staticClass:"bottleneck-impact"},[r("strong",[t._v("影响:")]),t._v(" "+t._s(e.impact)+"\n            ")])])}),0)]):t._e(),t._v(" "),t.selectedReport.recommendations&&t.selectedReport.recommendations.length>0?r("div",{staticClass:"recommendations"},[r("h3",[t._v("💡 优化建议")]),t._v(" "),r("div",{staticClass:"recommendations-list"},t._l(t.selectedReport.recommendations,function(e,a){return r("div",{key:a,staticClass:"recommendation-item"},[r("div",{staticClass:"recommendation-number"},[t._v(t._s(a+1))]),t._v(" "),r("div",{staticClass:"recommendation-content"},[t._v(t._s(e))])])}),0)]):t._e()]):t._e(),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.reportDialogVisible=!1}}},[t._v("关闭")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.downloadReport}},[t._v("下载报告")])],1)]),t._v(" "),r("el-dialog",{attrs:{title:"性能对比分析",visible:t.compareDialogVisible,width:"90%"},on:{"update:visible":function(e){t.compareDialogVisible=e}}},[r("div",{staticClass:"compare-content"},[r("div",{staticClass:"compare-selector"},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"选择要对比的报告"},model:{value:t.compareReports,callback:function(e){t.compareReports=e},expression:"compareReports"}},t._l(t.reports,function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),t.compareReports.length>=2?r("div",{staticClass:"compare-charts"},[r("div",{ref:"compareChart",staticClass:"compare-chart"})]):t._e()]),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.compareDialogVisible=!1}}},[t._v("关闭")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-header"},[e("h1",[this._v("📈 性能报告")]),this._v(" "),e("p",[this._v("查看和管理历史性能测试报告，对比分析性能趋势")])])}]};var l=r("VU/8")(i,n,!1,function(t){r("ayWv")},"data-v-1d93331a",null);e.default=l.exports},Gu7T:function(t,e,r){"use strict";e.__esModule=!0;var a,s=r("c/Tr"),o=(a=s)&&a.__esModule?a:{default:a};e.default=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return(0,o.default)(t)}},ayWv:function(t,e){},"c/Tr":function(t,e,r){t.exports={default:r("5zde"),__esModule:!0}},fBQ2:function(t,e,r){"use strict";var a=r("evD5"),s=r("X8DO");t.exports=function(t,e,r){e in t?a.f(t,e,s(0,r)):t[e]=r}},qyJz:function(t,e,r){"use strict";var a=r("+ZMJ"),s=r("kM2E"),o=r("sB3e"),i=r("msXi"),n=r("Mhyx"),l=r("QRG4"),c=r("fBQ2"),p=r("3fs2");s(s.S+s.F*!r("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,s,d,u=o(t),v="function"==typeof this?this:Array,m=arguments.length,f=m>1?arguments[1]:void 0,h=void 0!==f,_=0,g=p(u);if(h&&(f=a(f,m>2?arguments[2]:void 0,2)),void 0==g||v==Array&&n(g))for(r=new v(e=l(u.length));e>_;_++)c(r,_,h?f(u[_],_):u[_]);else for(d=g.call(u),r=new v;!(s=d.next()).done;_++)c(r,_,h?i(d,f,[s.value,_],!0):s.value);return r.length=_,r}})}});
//# sourceMappingURL=4.53913326f711d7f3d93e.js.map